try {
    const findUser = await userModel.findOne({ email: req.body.email });
    // console.log("Existing user id------>", existingUser._id);
    if (findUser) {
      res.status(200).json({
        message: "User with provided email found",
      });
    } else {
      //if no existing user, we save the new user
      try {
        const newQuestion = new questionModel({
          author: existingUser._id,
          posted_on: new Date(),
          title: req.body.title,
          problem_description: req.body.problem_description,
          solution_tried: req.body.solution_tried,
          github_repo: req.body.github_repo,
          tags: req.body.tags,
          status: req.body.status,
        });

        const savedQuestion = await newQuestion.save();
        res.status(201).json({
          msg: "Question posted successfully",
          user: {
            first_name: savedUser.first_name,
            last_name: savedUser.last_name,
            email: savedUser.email,
            password: savedUser.password,
          },
        });
        existingUser.questions.push(savedQuestion._id);
        await existingUser.save();
      } catch (error) {
        console.log("error saving user :>> ", error);
        res.status(500).json({
          msg: "Internal Server Error",
        });
      }
    }
  } catch (error) {
    console.log("error :>> ", error);
    res.status(500).json({
      msg: "something went wrong",
    });
  }
};